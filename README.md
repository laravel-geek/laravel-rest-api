# REST API на Laravel

Позволяет работать с сущностью items, как по API, так и через пользовательский интерфейс. 

## Установка
1. Клонируйте репозиторий: **git clone https://github.com/laravel-geek/laravel-rest-api.git**
2. Перейдите в директорию проекта: **cd laravel-rest-api**
3. Установите зависимости: **composer install**
4. Скопируйте файл **.env.example** в **.env** и настройте соединение с базой данных
5. Запустите миграции: **php artisan migrate**
6. Запустите сиды для заполнения таблицы тестовыми данными: **php artisan db:seed**


## Использование
### REST API

API работает со следующими методами:

| Метод     | URI             | Описание                   |
|-----------|-----------------|----------------------------|
| GET       | /api/items      | Получить список всех items |
| GET       | /api/items/{id} | Получить информацию по ID  |
| POST      | /api/items      | Создать новый item         |
| PUT/PATCH | /api/items/{id} | Обновить информацию по ID  |
| DELETE    | /api/items/{id} | Удалить item по ID         |


Приложение использует аутентификацию с помощью **Laravel Passport**, поэтому для доступа к методам API необходимо получить токен. Для этого нужно отправить POST запрос на /api/login с полями email и password, и полученный токен использовать в заголовке Authorization: Bearer {token} при запросах к методам API.
```
composer require owen-it/laravel-auditing
```
**В самом проекте аутентификация отключена. Для включения нужно раскомментить проверку в контроллере и зарегистрировать boot.**


Для истории изменений сущности используется пакет  **Laravel Auditing** - таблица audits.
```
composer require owen-it/laravel-auditing
```

## Пользовательский интерфейс
Пользовательский интерфейс доступен по адресу /items.


## json

Пример запроса POST:
```json
{
    "name": "Название элемента",
    "key": "Ключ элемента"
}
```
Пример ответа:
```json
{
    "id": 1,
    "name": "Название элемента",
    "key": "Ключ элемента",
    "created_at": "2023-03-05T11:30:00.000000Z",
    "updated_at": "2023-03-05T11:30:00.000000Z"
}
```

--------------------
## ТЗ


### REST API (CRUD) сервис

Необходимые возможности API:
- Создание элементов
- Обновление элементов
- Удаление элементов
- Получение информации об элементе
- Валидация полей сущности

### Возможное дополнение (будет плюсом, но не обязательно):
- Пользовательский интерфейс для работы с сущностью
- Использование token для доступа к данным
- История изменений сущности
  Вводные данные:

### Сущность: Item
Поля сущности:

- id - int автоинкремент
- name - char(255)
- key - char(25) not null
- created_at - datetime - дата создания элемента
- updated_at - datetime - дата обновления элемента

PHP8, Laravel
